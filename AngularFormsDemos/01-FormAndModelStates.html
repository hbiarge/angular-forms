<!DOCTYPE html>
<html>
<head>
    <title>Form and model states</title>
    <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    <link href="Content/style.css" rel="stylesheet" />
</head>
<body ng-app="acheve">
    <div class="container">
        <header class="page-header" ng-controller="ContextController as ctx">
            <h1>
                Form and model states <small>angularjs v{{ctx.version}}</small>
                <small class="pull-right">Hugo Biarge (@hbiarge)</small>
            </h1>
        </header>
        <section ng-controller="ExampleController as ctrl">
            <form name="userForm" ng-submit="ctrl.submit(userForm.$valid, ctrl.data)" novalidate>
                <fieldset>
                    <div class="form-group">
                        <label for="firstName">First name</label>
                        <input type="text"
                               id="firstName"
                               name="firstName"
                               class="form-control"
                               ng-model="ctrl.user.firstName"
                               required />
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last name</label>
                        <input type="text"
                               id="lastName"
                               name="lastName"
                               class="form-control"
                               ng-model="ctrl.user.lastName"
                               required />
                    </div>
                    <input type="submit" class="btn btn-default" ng-disabled="userForm.$invalid" value="Send" />
                </fieldset>
            </form>
            <div class="row">
                <section class="col-md-4">
                    <h4>Form</h4>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <strong>Pristine-Dirty</strong>
                            <a ng-click="userForm.$setPristine()">setPristine</a> |
                            <a ng-click="userForm.$setDirty()">setDirty</a><br />
                            <span ng-class="ctrl.classFomValue(userForm.$pristine)">userForm.$pristine = {{userForm.$pristine}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.$dirty)">userForm.$dirty = {{userForm.$dirty}}</span><br /><br />
                            <strong>Valid-Invalid</strong><br />
                            <span ng-class="ctrl.classFomValue(userForm.$valid)">userForm.$valid = {{userForm.$valid}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.$invalid)">userForm.$invalid = {{userForm.$invalid}}</span><br /><br />
                            <strong>Touched-Untouched</strong>
                            <a ng-click="userForm.$setUntouched()">setUntouched</a><br /><br />
                            <strong>Submitted</strong>
                            <a ng-click="userForm.$setSubmitted()">setSubmitted</a><br />
                            <span ng-class="ctrl.classFomValue(userForm.$submitted)">userForm.$submitted = {{userForm.$submitted}}</span><br /><br />
                            <pre>error = {{userForm.$error | json}}</pre>
                            <pre>pending = {{userForm.$pending | json}}</pre>
                        </div>
                    </div>
                </section>
                <section class="col-md-4">
                    <h4>First name</h4>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <strong>Pristine-Dirty</strong>
                            <a ng-click="userForm.firstName.$setPristine()">setPristine</a> |
                            <a ng-click="userForm.firstName.$setDirty()">setDirty</a>
                            <span ng-class="ctrl.classFomValue(userForm.firstName.$pristine)">userForm.firstName.$pristine = {{userForm.firstName.$pristine}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.firstName.$dirty)">userForm.firstName.$dirty = {{userForm.firstName.$dirty}}</span><br /><br />
                            <strong>Valid-Invalid</strong>
                            <a ng-click="userForm.firstName.$setValidity('required', true)">setValid</a> |
                            <a ng-click="userForm.firstName.$setValidity('required', false)">setInvalid</a><br />
                            <span ng-class="ctrl.classFomValue(userForm.firstName.$valid)">userForm.firstName.$valid = {{userForm.firstName.$valid}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.firstName.$invalid)">userForm.firstName.$invalid = {{userForm.firstName.$invalid}}</span><br /><br />
                            <strong>Touched-Untouched</strong>
                            <a ng-click="userForm.firstName.$setUntouched()">setUntouched</a> |
                            <a ng-click="userForm.firstName.$setTouched()">setTouched</a>
                            <span ng-class="ctrl.classFomValue(userForm.firstName.$touched)">userForm.firstName.$touched = {{userForm.firstName.$touched}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.firstName.$untouched)">userForm.firstName.$untouched = {{userForm.firstName.$untouched}}</span><br /><br />
                            <pre>error = {{userForm.firstName.$error | json}}</pre>
                            <pre>pending = {{userForm.firstName.$pending | json}}</pre>
                        </div>
                    </div>
                </section>
                <section class="col-md-4">
                    <h4>Last name</h4>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <strong>Pristine-Dirty</strong>
                            <a ng-click="userForm.lastName.$setPristine()">setPristine</a> |
                            <a ng-click="userForm.lastName.$setDirty()">setDirty</a>
                            <span ng-class="ctrl.classFomValue(userForm.lastName.$pristine)">userForm.lastName.$pristine = {{userForm.lastName.$pristine}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.lastName.$dirty)">userForm.lastName.$dirty = {{userForm.lastName.$dirty}}</span><br /><br />
                            <strong>Valid-Invalid</strong>
                            <a ng-click="userForm.lastName.$setValidity('required', true)">setValid</a> |
                            <a ng-click="userForm.lastName.$setValidity('required', false)">setInvalid</a><br />
                            <span ng-class="ctrl.classFomValue(userForm.lastName.$valid)">userForm.lastName.$valid = {{userForm.lastName.$valid}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.lastName.$invalid)">userForm.lastName.$invalid = {{userForm.lastName.$invalid}}</span><br /><br />
                            <strong>Touched-Untouched</strong>
                            <a ng-click="userForm.lastName.$setUntouched()">setUntouched</a> |
                            <a ng-click="userForm.lastName.$setTouched()">setTouched</a>
                            <span ng-class="ctrl.classFomValue(userForm.lastName.$touched)">userForm.lastName.$touched = {{userForm.lastName.$touched}}</span><br />
                            <span ng-class="ctrl.classFomValue(userForm.lastName.$untouched)">userForm.lastName.$untouched = {{userForm.lastName.$untouched}}</span><br /><br />
                            <pre>error = {{userForm.lastName.$error | json}}</pre>
                            <pre>pending = {{userForm.lastName.$pending | json}}</pre>
                        </div>
                    </div>
                </section>
            </div>
        </section>
    </div>
    <script src="bower_components/angular/angular.min.js"></script>
    <script>
        var app = angular.module('acheve', []);
        app.controller('ContextController', function () {
            var vm = this;
            vm.version = angular.version.full;
        });
        app.controller('ExampleController', function () {
            var vm = this;
            vm.user = { firstName: 'Hugo', lastName: 'Biarge' };
            vm.classFomValue = function (value) {
                return value ? 'true' : 'false';
            };
            vm.submit = function (valid, data) {
                if (valid) {
                    alert('form submitted!');
                }
            };
        });
    </script>
</body>
</html>
